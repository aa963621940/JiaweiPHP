<!DOCTYPE html>
<html lang="en">
<head>
    <include file="Public/h/head.html" title="管理后台首页" main="" key=""/>
</head>

<body class="overflow-hidden">
<div class="wrapper preload">
    <!--顶栏-->
    <include file="Public/h/nav.html"/>

    <!-- 菜单 -->
    <include file="Public/h/menu.html"/>

    <!--主要内容-->
    <div class="main-container">
        <div class="padding-md">
            <!--标题-->
            <div class="jw-box">
                <div class="page-title text-primary">
                    <b>角色管理</b>
                </div>
            </div>
            <div class="jw-box">
                <form>
                    <input type="text" name="name" placeholder="名称">
                    <input type="text" name="short" placeholder="描述">
                    <button>搜索</button>
                    <a class="btn btn-sm btn-primary pull-right" onclick="$('#add-mb').modal()">新增角色</a>
                </form>
            </div>
            <div class="jw-box">
                <table class="table table-bordered table-hover">
                    <tr>
                        <th>#</th>
                        <th>角色名称</th>
                        <th>角色描述</th>
                        <th>操作</th>
                    </tr>
                    <foreach name="role" item="vo">
                        <tr>
                            <td><{$vo.id}></td>
                            <td><{$vo.name}></td>
                            <td><{$vo.short}></td>
                            <td>
                                <a class="text-danger" onclick="delTip('<{$vo.id}>')">删除</a>
                                <a class="text-primary change-btn" data-id="<{$vo.id}>" data-name="<{$vo.name}>" data-short="<{$vo.short}>">修改</a>
                                权限
                            </td>
                        </tr>
                    </foreach>
                </table>
            </div>
            <!--导入分页-->
            <include file="Public/h/page.html"/>
        </div><!-- ./padding-md -->
    </div><!-- /main-container -->


    <!--新增角色-->
    <div class="modal fade" id="add-mb">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">新增角色</h4>
                </div>
                <form action="__CONTROLLER__/add" method="post">
                    <div class="modal-body">
                        <div class="form-group m-bottom-md">
                            <label>角色名称</label>
                            <input type="text" name="name" class="form-control" required>
                        </div>
                        <div class="form-group m-bottom-md">
                            <label>角色描述</label>
                            <input type="text" name="short" class="form-control" required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button class="btn btn-primary">添加角色</button>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!--修改角色-->
    <div class="modal fade" id="upd-mb">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">修改角色</h4>
                </div>
                <form action="__CONTROLLER__/upd" method="post">
                    <div class="modal-body">
                        <div class="modal-body">
                            <div class="form-group m-bottom-md">
                                <label>角色名称</label>
                                <input type="hidden" id="id" name="id">
                                <input type="text" id="name" name="name" class="form-control" required>
                            </div>
                            <div class="form-group m-bottom-md">
                                <label>角色描述</label>
                                <input type="text" id="short" name="short" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button class="btn btn-primary">修改角色</button>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <include file="Public/h/foot.html"/>
    <include file="Public/h/del_modal.html"/>
</div><!-- /wrapper -->
<a href="#" class="scroll-to-top hidden-print"><i class="fa fa-chevron-up fa-lg"></i></a>
<include file="Public/h/js.html"/>
<script>
    $('.change-btn').click(function () {
        $('#id').val($(this).data('id'));
        $('#name').val($(this).data('name'));
        $('#short').val($(this).data('short'));
        $('#upd-mb').modal();
    });
</script>
</body>
</html>
